<div ng-include="'shared/spinner.html'" ng-if="loading && !error"></div>

<div class="panel-container" ng-if="!loading && !error">
	<div class="panel panel-default text-center">
		<div class="panel-header">
			<h2>{{ 'people' | translate}}</h2>
		</div>
		<p>
			<a href="#!/">{{ 'home' | translate}}</a>
			<p>
				<div class="panel-body search-container">
					<input ng-enter="search(searchValue)" type="text" class="form-control" ng-model="searchValue" placeholder="{{ 'search' | translate }}..."></input>
					<button class="btn btn-primary" ng-click="search(searchValue)">{{ 'search' | translate }}</button>
				</div>
	</div>
	<div class="panel panel-default text-center">
		<div class="panel-body">
			<table class="table table-hover table-striped">
				<tr class="table-header">
					<th>{{ 'name' | translate}}</th>
					<th>{{ '# movies' | translate}}</th>
					<th>{{ 'gender' | translate}}</th>
					<th>{{ 'eye color' | translate}}</th>
				</tr>
				<tr ng-repeat="person in people" ng-click="examinePerson(person)">
					<td>{{ person.name }}</td>
					<td>{{ person.films.length }}</td>
					<td>{{ person.gender }}</td>
					<td>{{ person.eye_color }}</td>
				</tr>
				<tr ng-if="people.length === 0">
					<td colspan="6">{{'no results' | translate}}</td>
				</tr>
			</table>
			<div class="">
				{{ 'page' | translate }} {{ page }}
				<br>
				<button class="btn btn-primary" ng-if="page !== 1" ng-click="previousPage()">{{ 'back' | translate }}</button>
				<button class="btn btn-default" ng-if="!(page * 10 >= count)" ng-click="nextPage()">{{ 'next' | translate }}</button>
				<br>{{count}} {{ 'people' | translate }} {{ 'located' | translate }}
			</div>
		</div>
	</div>

</div>
<div ng-include="'shared/error.html'" ng-if="error"></div>
<div ng-if"errorMessage.length"><h1>{{errorMessage}}</h1></div>
