<div ng-include="'shared/spinner.html'" ng-if="loading"></div>

<div class="panel-container" ng-if="!loading">
	<div class="panel panel-default text-center">
		<div class="panel-header">
			<h2>Films</h2>
		</div>
		<p>
			<a href="#!/">Home</a>
			<p>
				<div class="panel-body search-container">
					<input ng-enter="search(searchValue)" type="text" class="form-control" ng-model="searchValue" placeholder="Search..."></input>
					<button class="btn btn-primary" ng-click="search(searchValue)">Search</button>
				</div>
	</div>
	<div class="panel panel-default text-center">
		<div class="panel-body">
			<table class="table table-hover table-striped">
				<tr class="table-header">
					<th>Title</th>
					<th>Director</th>
					<th>Release Date</th>
				</tr>
				<tr ng-repeat="film in films" ng-click="examineFilm(film)">
					<td>{{ film.title }}</td>
					<td>{{ film.director }}</td>
					<td>{{ film.release_date | date}}</td>
				</tr>
				<tr ng-if="films.length === 0">
					<td colspan="6">No Results</td>
				</tr>
			</table>
			<div class="">
				Page {{page}}
				<br>
				<button class="btn btn-primary" ng-if="page !== 1" ng-click="previousPage()">Back</button>
				<button class="btn btn-default" ng-if="!(page * 10 >= count)" ng-click="nextPage()">Next</button>
				<br>{{count}} films located
			</div>
		</div>
	</div>

</div>
